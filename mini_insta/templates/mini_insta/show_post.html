{% extends 'mini_insta/base.html' %}

{% block title %}Post by {{ post.profile.display_name }} - Mini Insta{% endblock %}

{% block content %}
<h2>Post by {{ post.profile.display_name }}</h2>

<p>
    <strong>Posted on:</strong> {{ post.timestamp|date:"F d, Y g:i A" }}
</p>

{% if post.caption %}
    <div style="background-color: lightyellow; padding: 10px; border: 1px solid black; margin: 20px 0;">
        <strong>Caption:</strong><br>
        {{ post.caption }}
    </div>
{% else %}
    <p><i>No caption provided</i></p>
{% endif %}

<hr>

<h3>Photos</h3>
<div style="display: flex; flex-wrap: wrap; gap: 20px;">
    {% for photo in post.get_all_photos %}
        <div style="border: 2px solid gray;">
            <img src="{{ photo.image_url }}" alt="Photo {{ forloop.counter }}"
                 style="max-width: 400px; max-height: 400px;">
        </div>
    {% empty %}
        <p>No photos for this post.</p>
    {% endfor %}
</div>

<br><br>
<p>
    <a href="{% url 'mini_insta:show_profile' post.profile.pk %}" style="color: blue; text-decoration: underline;">
        &lt;-- Back to {{ post.profile.display_name }}'s Profile
    </a>
</p>
{% endblock %}