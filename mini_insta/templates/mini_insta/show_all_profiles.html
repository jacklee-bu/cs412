{% extends 'mini_insta/base.html' %}

{% block title %}All Profiles - Mini Insta{% endblock %}

{% block content %}
<h1>All Profiles</h1>

<table border="1" cellpadding="10" style="width: 100%; margin-top: 20px;">
    <tr style="background-color: lightgray;">
        <th>Picture</th>
        <th>Name</th>
        <th>Username</th>
        <th>Bio</th>
        <th>Joined</th>
    </tr>
    {% for profile in profiles %}
    <tr>
        <td style="text-align: center;">
            <img src="{{ profile.profile_image_url }}" alt="{{ profile.display_name }}"
                 width="80" height="80">
        </td>
        <td>
            <a href="{% url 'mini_insta:show_profile' profile.pk %}" style="color: blue;">
                {{ profile.display_name }}
            </a>
        </td>
        <td>@{{ profile.username }}</td>
        <td>
            {% if profile.bio_text %}
                {{ profile.bio_text|truncatechars:50 }}
            {% else %}
                (no bio)
            {% endif %}
        </td>
        <td>{{ profile.join_date|date:"M d, Y" }}</td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="5">No profiles found.</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}