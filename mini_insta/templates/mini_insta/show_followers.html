{% extends 'mini_insta/base.html' %}

{% block title %}Followers of {{ profile.display_name }} - Mini Insta{% endblock %}

{% block content %}
<center>
    <h1>Kitties Following {{ profile.display_name }}</h1>
    <p><b>@{{ profile.username }}</b> has {{ profile.get_num_followers }} follower{% if profile.get_num_followers != 1 %}s{% endif %}</p>
</center>

<hr>

<table border="1" cellpadding="10" style="width: 100%; margin-top: 20px; background-color: lightyellow;">
    <tr style="background-color: lightgray;">
        <th>Picture</th>
        <th>Name</th>
        <th>Username</th>
        <th>Bio</th>
    </tr>
    {% for follower in profile.get_followers %}
    <tr>
        <td style="text-align: center;">
            <a href="{% url 'mini_insta:show_profile' follower.pk %}">
                <img src="{{ follower.profile_image_url }}" alt="{{ follower.display_name }}"
                     width="80" height="80" style="border: 1px solid black;">
            </a>
        </td>
        <td>
            <a href="{% url 'mini_insta:show_profile' follower.pk %}" style="color: blue;">
                {{ follower.display_name }}
            </a>
        </td>
        <td>@{{ follower.username }}</td>
        <td>
            {% if follower.bio_text %}
                {{ follower.bio_text|truncatechars:50 }}
            {% else %}
                (no bio)
            {% endif %}
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="4" style="text-align: center;">
            <i>No followers yet. This kitty needs some friends!</i>
        </td>
    </tr>
    {% endfor %}
</table>

<br>
<p>
    <a href="{% url 'mini_insta:show_profile' profile.pk %}" style="color: blue; text-decoration: underline;">
        &lt;-- Back to {{ profile.display_name }}'s Profile
    </a>
</p>
{% endblock %}