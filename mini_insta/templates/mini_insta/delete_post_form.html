{% extends 'mini_insta/base.html' %}

{% block title %}Delete Post - Mini Insta{% endblock %}

{% block content %}
<h2>Delete Post?</h2>
<p>Are you sure you want to delete this post by <strong>{{ profile.display_name }}</strong>?</p>

<hr>
<div style="background-color: lightyellow; padding: 15px; border: 1px solid black;">
    <p><strong>Post Date:</strong> {{ post.timestamp|date:"F d, Y g:i A" }}</p>

    {% if post.caption %}
        <p><strong>Caption:</strong> {{ post.caption }}</p>
    {% else %}
        <p><i>No caption</i></p>
    {% endif %}

    {% with post.get_all_photos.first as first_photo %}
        {% if first_photo %}
            <img src="{{ first_photo.get_image_url }}" alt="Post image"
                 style="max-width: 300px; max-height: 300px; border: 1px solid gray;">
        {% endif %}
    {% endwith %}
</div>
<hr>

<p><strong>This action cannot be undone!</strong></p>

<!-- form to confirm delete -->
<form method="POST" style="display: inline;">
    {% csrf_token %}
    <button type="submit" style="padding: 5px 15px; background-color: red; color: white;">
        Yes, Delete Post
    </button>
</form>

<!-- form to cancel -->
<form method="GET" action="{% url 'mini_insta:show_profile' profile.pk %}" style="display: inline;">
    <button type="submit" style="padding: 5px 15px; background-color: lightgray;">
        Cancel
    </button>
</form>

{% endblock %}
